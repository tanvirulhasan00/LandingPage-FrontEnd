import{w as l,a as n}from"./with-props-DTHl7Add.js";import{n as t,p as d,w as c,A as u,y as m}from"./chunk-LSOULM7L-DPBAfQZR.js";import{T as i}from"./table-NR0rbp1q.js";import{c as p}from"./data--AoAQne8.js";import"./button-BHlA_b4V.js";const y=[{key:"orderNumber",label:"Order Number",render:e=>t.jsx("span",{className:"font-semibold",children:e})},{key:"product.name",label:"Product Name",render:e=>t.jsx("span",{className:"font-semibold",children:e})},{key:"productSize",label:"Product Size",render:e=>t.jsx("span",{className:"font-semibold",children:e})},{key:"productColor",label:"Product Color",render:e=>t.jsx("span",{className:"font-semibold",children:e})},{key:"quantity",label:"Product Quantity",render:e=>t.jsx("span",{className:"font-semibold",children:e})},{key:"totalPrice",label:"Total Price",render:e=>{const r=parseFloat(e),s=new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT"}).format(r);return t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:s})}},{key:"firstName",label:"Customer Name"},{key:"comment",label:"Customer Comment"},{key:"phoneNumber",label:"Customer Phone"},{key:"email",label:"Customer Email"},{key:"address",label:"Customer Address"},{key:"deliveryMethod",label:"Delivery Method"},{key:"deliveryStatus",label:"Delivery Status",render:e=>t.jsx("span",{className:`font-semibold ${{Completed:"text-green-500",Failed:"text-red-500","In Process":"text-yellow-500",Cancelled:"text-red-500"}[e]||""}`,children:e})},{key:"paymentMethod",label:"Payment Method"},{key:"paymentStatus",label:"Payment Status"}],g=async({request:e})=>{const r=localStorage.getItem("authToken"),s=localStorage.getItem("userId"),a=localStorage.getItem("userRole"),o=await p(r,"order",a=="user"?s:"all");return{order:o==null?void 0:o.results}},b=()=>{const{order:e}=c();console.log("w",e);const r=u();m();const s=a=>{r(`/dashboard/update_delivery_status/${a}`)};return t.jsxs("div",{className:"p-10",children:[t.jsx("div",{className:"flex justify-between mb-5 text-2xl p-1",children:t.jsx("h1",{children:"Order List"})}),t.jsx(i,{columns:y,rows:e,show:"order",handleUpdate:s,hideDeleteBtn:!0,updateBtnText:"Update Status"})]})},w=l(b),C=n(function({error:r}){let s="Oops!",a="An unexpected error occurred.";return d(r)&&(s=r.status===404?"404":"Error",a=r.status===404?"The requested page could not be found.":r.statusText||a),t.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[t.jsx("h1",{children:s}),t.jsx("p",{children:"Something went wrong!"})]})});export{C as ErrorBoundary,g as clientLoader,w as default};
