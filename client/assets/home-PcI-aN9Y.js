import{w as S,a as F}from"./with-props-DTHl7Add.js";import{n as e,r as d,q as y,t as L,v as w,w as T,x as E,p as B}from"./chunk-LSOULM7L-DPBAfQZR.js";import{L as m,I as h}from"./input-DgVKBx4z.js";import{D as f,T as P}from"./text-area-LeOmk-Rg.js";import{B as I}from"./button-BHlA_b4V.js";import{G as M,a as z,C as R}from"./data--AoAQne8.js";const p=({id:a,name:s,label:r,className:n,...t})=>e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx("input",{...t,id:a,name:s,type:"radio",className:`${n} cursor-pointer relative size-4 appearance-none rounded-full border border-gray-300 bg-white before:absolute before:inset-1 before:rounded-full before:bg-white not-checked:before:hidden checked:border-indigo-600 checked:bg-indigo-600 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:border-gray-300 disabled:bg-gray-100 disabled:before:bg-gray-400 forced-colors:appearance-auto forced-colors:before:hidden`}),e.jsx("label",{htmlFor:a,className:"block text-sm/6 font-medium text-gray-900 dark:text-white",children:r})]}),$=({selectedOption:a,onOptionChange:s})=>(console.log("fd",a),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{id:"title",className:"tracking-[2px] text-xl",children:[e.jsx("h1",{children:"Contact information"}),e.jsxs("div",{className:"mt-5",children:[e.jsx(m,{htmlFor:"email",children:"Email address"}),e.jsx(h,{name:"email",type:"email",placeholder:"example@email.com"})]})]}),e.jsx(f,{className:"mt-10"}),e.jsxs("div",{className:"mt-10",children:[e.jsx("div",{className:"tracking-[2px] text-xl",children:e.jsx("h1",{children:"Shipping information"})}),e.jsxs("div",{className:"mt-5",children:[e.jsxs("div",{className:"flex w-full gap-5 max-sm:flex-col",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"firstname",children:"First Name"}),e.jsx(h,{name:"firstname",type:"text"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"lastname",children:"Last Name"}),e.jsx(h,{name:"lastname",type:"text"})]})]}),e.jsxs("div",{className:"w-full mt-5",children:[e.jsx(m,{htmlFor:"phoneNumber",children:"Phone Number"}),e.jsx(h,{name:"phoneNumber",type:"text"})]}),e.jsxs("div",{className:"flex w-full gap-5 max-sm:flex-col mt-5",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"district",children:"District"}),e.jsx(h,{name:"district",type:"text"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"subDistrict",children:"Sub District"}),e.jsx(h,{name:"subDistrict",type:"text"})]})]}),e.jsxs("div",{className:"w-full mt-5",children:[e.jsx(m,{htmlFor:"address",children:"Address"}),e.jsx(h,{name:"address",type:"text"})]}),e.jsxs("div",{className:"w-full mt-5",children:[e.jsx(m,{htmlFor:"comments",children:"Comments"}),e.jsx(P,{name:"comments"})]}),e.jsx(f,{className:"mt-10"}),e.jsx("div",{className:"mt-10",children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:"tracking-[2px] text-xl  text-gray-900 dark:text-white",children:"Delivery Location"}),e.jsxs("div",{className:"flex gap-4 mt-5 flex-col md:flex-row",children:[e.jsx(p,{id:"inside-dhaka",name:"delivery-location",label:"Inside Dhaka",value:"inside-dhaka",checked:a==="inside-dhaka",onChange:r=>s(r.target.value),required:a!=="pick-up",disabled:a==="pick-up"}),e.jsx(p,{id:"outside-dhaka",name:"delivery-location",label:"Outside Dhaka",value:"outside-dhaka",checked:a==="outside-dhaka",onChange:r=>s(r.target.value),required:a!=="pick-up",disabled:a==="pick-up"})]})]})}),e.jsx("div",{className:"mt-10",children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:"tracking-[2px] text-xl  text-gray-900 dark:text-white",children:"Delivery Method"}),e.jsxs("div",{className:"flex gap-4 mt-5 flex-col md:flex-row",children:[e.jsx(p,{id:"pick-up",name:"delivery-method",label:"Pick Up",value:"pick-up",onChange:r=>s(r.target.value),required:!0}),e.jsx(p,{defaultChecked:!0,id:"home-delivery",name:"delivery-method",label:"Home Delivery",value:"home-delivery",onChange:r=>s(r.target.value)})]})]})}),e.jsx("div",{className:"mt-10",children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:"tracking-[2px] text-xl  text-gray-900 dark:text-white",children:"Payment Method"}),e.jsxs("div",{className:"flex gap-4 mt-5 flex-col md:flex-row",children:[e.jsx(p,{defaultChecked:!0,id:"bkash",name:"payment-method",label:"Bkash",value:"bkash"}),e.jsx(p,{id:"cash",name:"payment-method",label:"Cash On Delivery",value:"cash"})]})]})})]})]})]}));function q({title:a,titleId:s,...r},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),a?d.createElement("title",{id:s},a):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const A=d.forwardRef(q);function H({title:a,titleId:s,...r},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),a?d.createElement("title",{id:s},a):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const G=d.forwardRef(H),Q=({product:a,shippingFeesData:s,handleDelete:r,selectedOption:n})=>{const x=y().state==="submitting",i=a.price,[o,j]=d.useState(1),[u,g]=d.useState(0),[k,v]=d.useState(i),[N,b]=d.useState(i+u),D=a.color.split(",").map(l=>l.trim()),C=a.size.split(",").map(l=>l.trim());return d.useEffect(()=>{let l=0;switch(n){case"inside-dhaka":l=s.insideDhaka;break;case"outside-dhaka":l=s.outsideDhaka;break;case"pick-up":l=20;break}const c=i*o;g(l),v(c),b(c+l)},[n,o]),e.jsxs("div",{className:"w-full",children:[e.jsx("input",{id:"total",name:"total",hidden:!0,value:N}),e.jsx("input",{id:"number",name:"number",hidden:!0,value:o}),e.jsx("div",{className:"tracking-[2px] text-xl  text-gray-900 dark:text-white mb-5",children:e.jsx("h1",{children:"Order Summery "})}),e.jsxs("div",{className:"w-full h-full border-none rounded-md shadow-sm shadow-gray-200 dark:shadow-gray-600",children:[e.jsxs("div",{className:"flex justify-between h-full p-5",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-[6rem] h-[8rem] object-cover",children:e.jsx("img",{src:a==null?void 0:a.productImageUrl,className:"w-full h-full rounded-md"})}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm text-gray-800 dark:text-white",children:a==null?void 0:a.name}),e.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[e.jsxs("select",{name:"color",id:"color",className:"text-[.8rem] text-gray-400",children:[e.jsx("option",{selected:!0,children:"Color"}),D.map((l,c)=>e.jsx("option",{value:l,children:l.length?l:"n/a"},c))]}),e.jsxs("select",{name:"size",id:"size",className:"text-[.8rem] text-gray-400",children:[e.jsx("option",{selected:!0,children:"Size"}),C.map((l,c)=>e.jsx("option",{value:l,children:l.length?l:"n/a"},c))]})]})]}),e.jsx("div",{children:e.jsxs("h2",{className:"text-sm text-gray-900 dark:text-white",children:["BDT ",a==null?void 0:a.price]})})]})]}),e.jsxs("div",{className:"flex flex-col justify-between items-center",children:[e.jsx("div",{children:"Quantity"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{hidden:o<=1,children:e.jsx(A,{className:"text-gray-500 dark:text-gray-200 size-6 cursor-pointer",onClick:()=>{if(o>1){const l=o-1,c=i*l;j(l),v(c),b(c+u)}}})}),e.jsx("h1",{children:o}),e.jsx(G,{className:"text-gray-500 dark:text-gray-200 size-6 cursor-pointer",onClick:()=>{const l=o+1,c=i*l;j(l),v(c),b(c+u)}})]})]})]}),e.jsx(f,{className:"mt-5 mb-5"}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("p",{children:"Subtotal"}),e.jsxs("p",{className:"grid justify-end",children:["BDT ",k]})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("p",{children:["Shipping fees"," ",n==="inside-dhaka"?"/ inside dhaka":"/ outside dhaka"]}),e.jsxs("p",{className:"grid justify-end",children:["BDT ",u]})]})]}),e.jsx(f,{className:"mt-5 mb-5"}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("p",{children:"Total"}),e.jsxs("p",{className:"grid justify-end",children:["BDT ",N]})]})]}),e.jsx(f,{className:"mt-5 mb-5"}),e.jsxs("div",{className:"p-5 flex gap-4",children:[e.jsx(I,{disabled:x,className:"w-full",children:x?"Loading...":"Confirm order"}),e.jsx(L,{to:"#",className:"w-full flex items-center justify-center border-1 rounded-md hover:border-red-700",children:"Cancel order"})]})]})]})},W=()=>e.jsx("div",{className:"mx-auto w-full max-w-sm rounded-md border-none p-4",children:e.jsx("div",{className:"flex animate-pulse space-x-4",children:e.jsx("div",{className:"flex-1 space-y-6 py-1",children:e.jsx("div",{className:"h-full rounded ",children:"Loading..."})})})});function X({}){return[{title:"Landing Page"},{name:"description",content:"Welcome to landign page dashboard"}]}const Y=async({request:a,params:s})=>{const{productId:r}=s,n=await M(Number(r)),t=await z(1,"","all-cost");return{success:n.success,product:n.results,shippingFeesData:t.results}},_=async({request:a})=>{var x;const s=await a.formData(),r=s.get("payment-method"),n=s.get("total"),t=new FormData;t.append("productId",s.get("productId")),t.append("email",s.get("email")),t.append("firstname",s.get("firstname")),t.append("lastname",s.get("lastname")),t.append("district",s.get("district")),t.append("subDistrict",s.get("subDistrict")),t.append("address",s.get("address")),t.append("phoneNumber",s.get("phoneNumber")),t.append("quantity",s.get("number")),t.append("comment",s.get("comments")),t.append("productColor",s.get("color")),t.append("productSize",s.get("size")),t.append("deliveryMethod",s.get("delivery-method")),t.append("paymentMethod",r),t.append("totalPrice",n);try{const i=await R(t,"","order");if(i.success)return w(`/response?success=${i==null?void 0:i.success}&&status=${i==null?void 0:i.statusCode}&&message=${i==null?void 0:i.message}&&orderNumber=${(x=i==null?void 0:i.results)==null?void 0:x.orderNumber}&&paymentMethod=${r}`)}catch(i){return console.log(i),w(`/response?error=${i}`)}return console.log("COn",t),""},ee=S(function(){const{product:s,shippingFeesData:r,success:n}=T(),[t,x]=d.useState(""),i=()=>{};y().state,console.log("Navigation state:",n);const[j,u]=d.useState(!0);return d.useEffect(()=>{const g=setTimeout(()=>u(!1),2e3);return()=>clearTimeout(g)},[j]),e.jsx("main",{children:e.jsx("div",{className:"md:w-[90%] md:p-10 m-auto p-5 w-full",children:e.jsxs(E,{method:"post",children:[e.jsx("input",{hidden:!0,name:"productId",id:"productId",value:s==null?void 0:s.id}),e.jsxs("div",{className:"flex gap-10 border-none flex-col lg:flex-row border-gray-200 p-5  rounded-md shadow-2xl shadow-gray-500",children:[e.jsx("div",{id:"contact-information",className:"w-full",children:e.jsx($,{selectedOption:t,onOptionChange:x})}),e.jsx("div",{id:"order-summary",className:"w-full",children:j?e.jsx(W,{}):e.jsx(Q,{product:s,shippingFeesData:r,handleDelete:i,selectedOption:t})})]})]})})})}),se=F(function({error:s}){let r="Oops!",n="An unexpected error occurred.";return B(s)&&(r=s.status===404?"404":"Error",n=s.status===404?"The requested page could not be found.":s.statusText||n),e.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[e.jsx("h1",{children:r}),e.jsx("p",{children:"Something went wrong!"})]})});export{se as ErrorBoundary,_ as clientAction,Y as clientLoader,ee as default,X as meta};
