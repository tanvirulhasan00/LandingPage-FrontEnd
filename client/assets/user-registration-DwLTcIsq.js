import{w as d}from"./with-props-DTHl7Add.js";import{v as m,q as c,z as h,n as e,x as u,t as x}from"./chunk-LSOULM7L-DPBAfQZR.js";import{B as p}from"./button-BHlA_b4V.js";import{T as j,D as g}from"./text-area-LeOmk-Rg.js";import{L as t,I as i}from"./input-DgVKBx4z.js";import{R as N}from"./data--AoAQne8.js";const C=async({request:o})=>{const l=localStorage.getItem("authToken"),a=await o.formData(),r=new FormData;r.append("userName",a.get("userName")),r.append("password",a.get("password")),r.append("phoneNumber",a.get("phoneNumber")),r.append("address",a.get("address")),r.append("email",a.get("email")),r.append("active",a.get("active"));const n=a.get("imageUrl");n instanceof File&&r.append("imageUrl",n);try{const s=await N(r,l);return s.success?m("/dashboard/user"):m(`/dashboard/user-registration?status=${s==null?void 0:s.statusCode}&&error=${s==null?void 0:s.message}`)}catch(s){return m(`/dashboard/user-registration?error=${s}`)}},f=()=>{const l=c().state==="submitting",[a,r]=h(),n=a.get("status"),s=a.get("error");return e.jsxs("div",{className:"sm:w-[60%] w-[80%] m-auto max-sm:mb-4",children:[e.jsxs("div",{hidden:!s,className:"bg-red-600 rounded-md p-1 mt-2",children:[e.jsx("h1",{children:n}),e.jsx("p",{children:s})]}),e.jsx(u,{method:"post",encType:"multipart/form-data",children:e.jsxs("div",{className:"sm:p-10",children:[e.jsxs("div",{className:"mt-10",children:[e.jsx("div",{className:"tracking-[2px] text-xl",children:e.jsx("h1",{children:"User Registration"})}),e.jsxs("div",{className:"mt-5",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(t,{htmlFor:"userName",children:"User Name"}),e.jsx(i,{name:"userName",type:"text"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(t,{htmlFor:"password",children:"Password"}),e.jsx(i,{name:"password",type:"text"})]}),e.jsxs("div",{className:"w-full mt-5",children:[e.jsx(t,{htmlFor:"phoneNumber",children:"Phone Number"}),e.jsx(i,{name:"phoneNumber",type:"text"})]}),e.jsxs("div",{className:"w-full mt-5",children:[e.jsx(t,{htmlFor:"address",children:"Address"}),e.jsx(j,{name:"address"})]}),e.jsxs("div",{className:"w-full mt-5",children:[e.jsx(t,{htmlFor:"email",children:"Email"}),e.jsx(i,{name:"email",type:"email"})]}),e.jsxs("div",{className:"w-full mt-5",children:[e.jsx(t,{htmlFor:"active",children:"Active Status"}),e.jsxs("select",{name:"active",className:"bg-white p-2 w-full text-black",children:[e.jsx("option",{selected:!0,value:1,children:"Active"}),e.jsx("option",{value:0,children:"InActive"})]})]}),e.jsxs("div",{className:"w-full mt-5",children:[e.jsx(t,{htmlFor:"imageUrl",children:"Image"}),e.jsx(i,{name:"imageUrl",type:"file",inputClassName:"cursor-pointer"})]}),e.jsx(g,{className:"mt-10"})]})]}),e.jsxs("div",{className:"mt-5 flex gap-3",children:[e.jsxs(p,{className:"w-full",children:[" ",l?"Creating...":"Create"]}),e.jsx(x,{to:"/dashboard/user",className:"w-full flex items-center justify-center border-1 rounded-md hover:border-red-700",children:"Cancel"})]})]})})]})},P=d(f);export{C as clientAction,P as default};
