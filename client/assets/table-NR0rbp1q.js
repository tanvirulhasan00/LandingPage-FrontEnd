import{r as g,n as t}from"./chunk-LSOULM7L-DPBAfQZR.js";import{B as k}from"./button-BHlA_b4V.js";const P=({columns:a,rows:d,onRowClick:c,rowsPerPage:x=5,handleUpdate:o,handleDelete:m,show:p,updateBtnText:j,hideDeleteBtn:v,bg:S})=>{const[n,N]=g.useState(1),[i,A]=g.useState(null),[y,f]=g.useState(!0),C=e=>{i===e?f(!y):(A(e),f(!0))},M=[...d].sort((e,h)=>{if(!i)return 0;const r=e[i],l=h[i];return y?String(r).localeCompare(String(l)):String(l).localeCompare(String(r))}),u=Math.ceil((d==null?void 0:d.length)/x),s=M.slice((n-1)*x,n*x);return t.jsxs("div",{className:"overflow-x-auto shadow-md rounded-xl border",children:[t.jsxs("table",{className:"min-w-full bg-white",children:[t.jsx("thead",{className:"bg-gray-100 dark:bg-black text-gray-700 dark:text-white text-sm uppercase",children:t.jsxs("tr",{className:"text-start",children:[a==null?void 0:a.map(e=>t.jsxs("th",{className:"px-4 py-3 cursor-pointer text-start",onClick:()=>C(e.key),children:[e.label,i===e.key?y?" ↑":" ↓":""]},e.key)),p=="payment"?"":t.jsx("th",{className:"text-center",children:"Actions"})]})}),t.jsx("tbody",{className:"dark:bg-gray-700 dark:text-white text-gray-600",children:s&&(s==null?void 0:s.length)>0?s==null?void 0:s.map((e,h)=>t.jsxs("tr",{onClick:()=>c==null?void 0:c(e),className:"dark:hover:bg-gray-600 hover:bg-gray-100 cursor-pointer",children:[a.map(r=>{const l=r.key.includes(".")?r.key.split(".").reduce((b,B)=>b==null?void 0:b[B],e):e[r.key];return t.jsx("td",{className:"px-4 py-2 border-t",children:r!=null&&r.render?r.render(l,e):l||"No data"},r.key)}),p==="payment"?null:t.jsx("td",{className:"px-4 py-2 border-t",children:t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsx(k,{onClick:()=>o==null?void 0:o(e.id),bg:S,children:j||"Update"}),v?null:t.jsx(k,{bg:"bg-red-600",className:"hover:bg-red-700",onClick:()=>{window.confirm("Are you sure you want to delete this item?")&&(m==null||m(e.id))},children:"Delete"})]})})]},h)):t.jsx("tr",{children:t.jsx("td",{colSpan:a.length+(p==="payment"?0:1),className:"text-center py-4 text-gray-500",children:"No data available."})})})]}),t.jsxs("div",{className:"flex items-center p-4 gap-2",children:[t.jsx("button",{onClick:()=>N(e=>Math.max(e-1,1)),disabled:n===1,className:"px-3 py-1 border rounded disabled:opacity-50 cursor-pointer",children:"Prev"}),t.jsxs("span",{className:"text-sm",children:["Page ",n," of ",u]}),t.jsx("button",{onClick:()=>N(e=>Math.min(e+1,u)),disabled:n===u,className:"px-3 py-1 border rounded disabled:opacity-50 cursor-pointer",children:"Next"})]})]})};export{P as T};
