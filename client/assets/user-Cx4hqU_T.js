import{w as o,a as n}from"./with-props-DTHl7Add.js";import{n as r,v as l,p as d,w as i,A as c,t as u}from"./chunk-LSOULM7L-DPBAfQZR.js";import{B as m}from"./button-BHlA_b4V.js";import{c as h}from"./data--AoAQne8.js";import{T as p}from"./table-NR0rbp1q.js";const x=[{key:"imageUrl",label:"Image",render:e=>r.jsx("img",{src:e,alt:"image",className:"w-[5rem] h-[6rem] rounded-md object-cover"})},{key:"userName",label:"User Number",render:e=>r.jsx("span",{className:"font-semibold",children:e})},{key:"phoneNumber",label:"Phone Number"},{key:"email",label:"Email"},{key:"address",label:"Address"},{key:"active",label:"Status",render:e=>r.jsx("span",{className:`font-semibold ${{1:"text-green-500",0:"text-red-500"}[e]||""}`,children:e=="1"?"Active":"Deactivated"})}],N=async()=>{const e=localStorage.getItem("authToken");console.log("token",e);try{const s=await h(e,"user","all");return{user:s==null?void 0:s.results}}catch(s){return l(`/dashboard?error=${s}`)}},b=()=>{const{user:e}=i(),s=c(),t=a=>{s(`/dashboard/update-user-status/${a}`)};return r.jsxs("div",{className:"p-10",children:[r.jsxs("div",{className:"flex justify-between mb-5 text-2xl p-1",children:[r.jsx("h1",{children:"User List"}),r.jsx(u,{to:"/dashboard/user-registration",children:r.jsx(m,{children:"Add User"})})]}),r.jsx(p,{columns:x,rows:e,show:"user",updateBtnText:"Deactivate",handleUpdate:t,hideDeleteBtn:!0,bg:"bg-red-500"})]})},k=o(b),v=n(function({error:s}){let t="Oops!",a="An unexpected error occurred.";return d(s)&&(t=s.status===404?"404":"Error",a=s.status===404?"The requested page could not be found.":s.statusText||a),r.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[r.jsx("h1",{children:t}),r.jsx("p",{children:"Something went wrong!"})]})});export{v as ErrorBoundary,N as clientLoader,k as default};
